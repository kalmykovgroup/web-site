import{r as H,t as ue}from"./rolldown-runtime-CjiBMUN4.js";import{M as me,_ as he,b as te,g as ve,k as ge,m as oe,x as Q,y as le}from"./react-vendor-CYFo1ZZ8.js";import{a as G,c as xe,d as ae,f as q,i as fe,l as pe,n as je,o as be,p as Ne,r as ke,s as ye,t as Ce,u as K}from"./index-BXzEHEYZ.js";var l=H(me());const we="_header_lqmbp_7",Ie="_visible_lqmbp_37",Le="_container_lqmbp_47",$e="_logo_lqmbp_73",Te="_logoIcon_lqmbp_91",Ee="_logoIconSvg_lqmbp_111",Se="_hamburger_lqmbp_127",Me="_hamburgerLine_lqmbp_169",Ae="_active_lqmbp_191",Pe="_nav_lqmbp_225",Re="_open_lqmbp_267",Be="_navLink_lqmbp_275",ze="_overlay_lqmbp_353",Oe="_fadeIn_lqmbp_1",De="_logoTextBottom_lqmbp_877";var y={header:we,visible:Ie,container:Le,logo:$e,logoIcon:Te,logoIconSvg:Ee,hamburger:Se,hamburgerLine:Me,active:Ae,nav:Pe,open:Re,navLink:Be,overlay:ze,fadeIn:Oe,logoTextBottom:De},e=H(ge());const qe=({onCatalogClick:s,onAboutClick:r,onContactsClick:o,onReviewsClick:a,onMapClick:n,onTopClick:_})=>{const[t,d]=(0,l.useState)(!1),[i,g]=(0,l.useState)(!1),[h,C]=(0,l.useState)(!1);(0,l.useEffect)(()=>{const v=()=>{C(window.innerWidth<768)};return v(),window.addEventListener("resize",v),()=>{window.removeEventListener("resize",v)}},[]),(0,l.useEffect)(()=>{d(!0)},[]),(0,l.useEffect)(()=>(h&&i?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[h,i]),(0,l.useEffect)(()=>{if(!h)return;const v=$=>{$.key==="Escape"&&i&&g(!1)};return document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}},[h,i]),(0,l.useEffect)(()=>{!h&&i&&g(!1)},[h,i]);const b=(0,l.useCallback)(()=>{g(v=>!v)},[]),f=(0,l.useCallback)(()=>{g(!1)},[]),j=(0,l.useCallback)(v=>()=>{v(),h&&f()},[h,f]);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("header",{className:`${y.header} ${t?y.visible:""}`,role:"banner",children:(0,e.jsxs)("div",{className:y.container,children:[(0,e.jsx)("div",{className:y.logo,onClick:j(_),role:"button",tabIndex:0,onKeyDown:v=>{(v.key==="Enter"||v.key===" ")&&(v.preventDefault(),j(_)())},"aria-label":"Перейти на главную страницу",children:(0,e.jsx)("div",{className:y.logoIcon,children:(0,e.jsx)(Ne,{onTopClick:_})})}),h&&(0,e.jsxs)("button",{className:`${y.hamburger} ${i?y.active:""}`,onClick:b,type:"button","aria-label":i?"Закрыть меню":"Открыть меню","aria-expanded":i,"aria-controls":"mobile-navigation",children:[(0,e.jsx)("span",{className:y.hamburgerLine}),(0,e.jsx)("span",{className:y.hamburgerLine}),(0,e.jsx)("span",{className:y.hamburgerLine})]}),(0,e.jsxs)("nav",{id:"mobile-navigation",className:`${y.nav} ${h&&i?y.open:""}`,role:"navigation","aria-label":"Основная навигация",children:[(0,e.jsx)("button",{onClick:j(s),className:y.navLink,type:"button",children:"Каталог"}),(0,e.jsx)("button",{onClick:j(a),className:y.navLink,type:"button",children:"Отзывы"}),(0,e.jsx)("button",{onClick:j(n),className:y.navLink,type:"button",children:"Как нас найти"}),(0,e.jsx)("button",{onClick:j(r),className:y.navLink,type:"button",children:"О нас"}),(0,e.jsx)("button",{onClick:j(o),className:y.navLink,type:"button",children:"Контакты"})]})]})}),h&&i&&(0,e.jsx)("div",{className:`${y.overlay} ${y.visible}`,onClick:f,role:"presentation","aria-hidden":"true"})]})},We="_section_vqmpd_3",Ue="_container_vqmpd_13",Fe="_title_vqmpd_23",Ye="_subtitle_vqmpd_39",Ve="_mapContainer_vqmpd_53",He="_mapWrapper_vqmpd_77",Ge="_mapIframe_vqmpd_93",Xe="_info_vqmpd_101",Ze="_infoCard_vqmpd_113",Qe="_infoIcon_vqmpd_133",Ke="_icon_vqmpd_155",Je="_infoTitle_vqmpd_167",es="_infoText_vqmpd_181",ss="_infoHours_vqmpd_191",ns="_routeButton_vqmpd_203",ts="_buttonIcon_vqmpd_249",os="_mapLink_vqmpd_259";var L={section:We,container:Ue,title:Fe,subtitle:Ye,mapContainer:Ve,mapWrapper:He,mapIframe:Ge,info:Xe,infoCard:Ze,infoIcon:Qe,icon:Ke,infoTitle:Je,infoText:es,infoHours:ss,routeButton:ns,buttonIcon:ts,mapLink:os},O={lat:55.775105,lon:37.738054},re=17,ls=`https://yandex.ru/maps/?pt=${O.lon},${O.lat}&z=${re}&l=map`,as=`https://yandex.ru/maps/?rtext=~${O.lat},${O.lon}&rtt=auto`;const rs=()=>{const s=()=>{window.open(as,"_blank","noopener,noreferrer")},r=()=>{window.open(ls,"_blank","noopener,noreferrer")};return(0,e.jsx)("section",{id:"map",className:L.section,children:(0,e.jsxs)("div",{className:L.container,children:[(0,e.jsx)("h3",{className:L.title,children:"Как нас найти"}),(0,e.jsx)("p",{className:L.subtitle,children:"Приезжайте к нам в магазин или постройте маршрут онлайн"}),(0,e.jsxs)("div",{className:L.mapContainer,children:[(0,e.jsx)("div",{className:L.mapWrapper,children:(0,e.jsx)("iframe",{src:`https://yandex.ru/map-widget/v1/?ll=${O.lon}%2C${O.lat}&z=${re}&pt=${O.lon}%2C${O.lat}~pm2rdm`,width:"100%",height:"400",frameBorder:"0",title:"Яндекс Карта",className:L.mapIframe,allowFullScreen:!0})}),(0,e.jsxs)("div",{className:L.info,children:[(0,e.jsxs)("div",{className:L.infoCard,children:[(0,e.jsx)("div",{className:L.infoIcon,children:(0,e.jsx)(he,{className:L.icon})}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h4",{className:L.infoTitle,children:"Адрес магазина"}),(0,e.jsx)("p",{className:L.infoText,children:"г. Москва, ул. Вольная, д. 28/4к3"}),(0,e.jsx)("p",{className:L.infoHours,children:"Ежедневно с 9:00 до 21:00"})]})]}),(0,e.jsxs)("button",{onClick:s,className:L.routeButton,type:"button",children:[(0,e.jsx)(ve,{className:L.buttonIcon}),"Построить маршрут"]}),(0,e.jsx)("button",{onClick:r,className:L.mapLink,type:"button",children:"Открыть в Яндекс.Картах →"})]})]})]})})},cs="_categories_1gfds_3",is="_title_1gfds_15",ds="_subtitle_1gfds_31",_s="_gridWrapper_1gfds_45",us="_grid_1gfds_45",ms="_skeleton_1gfds_825",hs="_skeletonStatic_1gfds_847",vs="_skeletonImage_1gfds_855",gs="_skeletonPulse_1gfds_1",xs="_skeletonContent_1gfds_885",fs="_skeletonTitle_1gfds_905",ps="_skeletonDesc_1gfds_923",js="_errorOverlay_1gfds_969",bs="_errorContainer_1gfds_997",Ns="_fadeIn_1gfds_1",ks="_errorIcon_1gfds_1053",ys="_pulse_1gfds_1",Cs="_errorTitle_1gfds_1083",ws="_errorMessage_1gfds_1097",Is="_errorActions_1gfds_1111",Ls="_retryButton_1gfds_1125",$s="_retryInfo_1gfds_1177",Ts="_autoRetryText_1gfds_1195",Es="_maxAttemptsText_1gfds_1211",Ss="_progressBar_1gfds_1229",Ms="_progressFill_1gfds_1245";var N={categories:cs,title:is,subtitle:ds,gridWrapper:_s,grid:us,skeleton:ms,skeletonStatic:hs,skeletonImage:vs,skeletonPulse:gs,skeletonContent:xs,skeletonTitle:fs,skeletonDesc:ps,errorOverlay:js,errorContainer:bs,fadeIn:Ns,errorIcon:ks,pulse:ys,errorTitle:Cs,errorMessage:ws,errorActions:Is,retryButton:Ls,retryInfo:$s,autoRetryText:Ts,maxAttemptsText:Es,progressBar:Ss,progressFill:Ms};const As="_section_r61ud_1";var Ps={section:As};const M=({children:s,delay:r,direction:o="up"})=>{const[a,n]=(0,l.useState)(!1);(0,l.useEffect)(()=>{const t=setTimeout(()=>{n(!0)},r);return()=>clearTimeout(t)},[r]);const _=()=>a?"translateY(0)":{up:"translateY(50px)",down:"translateY(-50px)",left:"translateX(50px)",right:"translateX(-50px)"}[o];return(0,e.jsx)("div",{className:Ps.section,style:{opacity:a?1:0,transform:_()},children:s})},Rs="_card_bliuf_3",Bs="_cardContent_bliuf_59",zs="_cardContent_header_bliuf_83",Os="_cardContent_center_bliuf_89",Ds="_iconWrapper_bliuf_123",qs="_icon_bliuf_123",Ws="_title_bliuf_187",Us="_desc_bliuf_203",Fs="_viewBadge_bliuf_225";var P={card:Rs,cardContent:Bs,cardContent_header:zs,cardContent_center:Os,iconWrapper:Ds,icon:qs,title:Ws,desc:Us,viewBadge:Fs},ce=ue({"node_modules/classnames/index.js":((s,r)=>{/*!
Copyright (c) 2018 Jed Watson.
Licensed under the MIT License (MIT), see
http://jedwatson.github.io/classnames
*/(function(){var o={}.hasOwnProperty;function a(){for(var t="",d=0;d<arguments.length;d++){var i=arguments[d];i&&(t=_(t,n(i)))}return t}function n(t){if(typeof t=="string"||typeof t=="number")return t;if(typeof t!="object")return"";if(Array.isArray(t))return a.apply(null,t);if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]"))return t.toString();var d="";for(var i in t)o.call(t,i)&&t[i]&&(d=_(d,i));return d}function _(t,d){return d?t?t+" "+d:t+d:t}typeof r<"u"&&r.exports?(a.default=a,r.exports=a):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return a}):window.classNames=a})()})}),Ys=H(ce());const Vs="_container_1s2l9_1",Hs="_placeholder_1s2l9_13",Gs="_pulse_1s2l9_1",Xs="_image_1s2l9_33",Zs="_loaded_1s2l9_49";var Y={container:Vs,placeholder:Hs,pulse:Gs,image:Xs,loaded:Zs};const D=({src:s,alt:r,className:o,...a})=>{const[n,_]=(0,l.useState)(!1);return(0,e.jsxs)("div",{className:Y.container,children:[!n&&(0,e.jsx)("div",{className:Y.placeholder}),(0,e.jsx)("img",{src:s,alt:r,loading:"lazy",className:`${Y.image} ${n?Y.loaded:""} ${o??""}`,onLoad:()=>_(!0),...a})]})};var Qs=({category:s,onClick:r,index:o,className:a})=>(0,e.jsxs)("div",{className:(0,Ys.default)(P.card,a),onClick:r,"data-index":o,style:{boxShadow:`0 0 5px ${s.color}`},children:[(0,e.jsx)("div",{className:P.imageWrapper}),(0,e.jsxs)("div",{className:P.cardContent,children:[(0,e.jsxs)("div",{className:P.cardContent_header,children:[(0,e.jsx)("div",{className:P.iconWrapper,children:(0,e.jsx)(D,{src:s.iconUrl,alt:s.iconAlt,className:P.icon})}),(0,e.jsx)("h3",{className:P.title,children:s.name})]}),(0,e.jsx)("div",{className:P.cardContent_center,children:(0,e.jsx)("p",{className:P.desc,children:s.description})})]}),(0,e.jsx)("div",{className:P.viewBadge,children:"Посмотреть товары →"})]}),Ks=Qs;const Js="_modal_1k9wv_7",en="_fadeIn_1k9wv_1",sn="_content_1k9wv_47",nn="_slideUp_1k9wv_1",tn="_header_1k9wv_69",on="_headerContent_1k9wv_101",ln="_icon_1k9wv_113",an="_iconSvg_1k9wv_145",rn="_title_1k9wv_171",cn="_subtitle_1k9wv_197",dn="_closeButton_1k9wv_221",_n="_closeIcon_1k9wv_255",un="_body_1k9wv_269",mn="_sliderContainer_1k9wv_291",hn="_mainImage_1k9wv_299",vn="_image_1k9wv_331",gn="_imagePlaceholder_1k9wv_357",xn="_placeholderIcon_1k9wv_381",fn="_showPlaceholder_1k9wv_407",pn="_thumbnailPlaceholder_1k9wv_409",jn="_navButton_1k9wv_419",bn="_navButtonLeft_1k9wv_479",Nn="_navButtonRight_1k9wv_499",kn="_navIcon_1k9wv_519",yn="_counter_1k9wv_547",Cn="_thumbnails_1k9wv_575",wn="_thumbnail_1k9wv_409",In="_thumbnailActive_1k9wv_639",Ln="_thumbnailImage_1k9wv_651",$n="_thumbnailPlaceholderIcon_1k9wv_687",Tn="_fullscreenModal_1k9wv_715",En="_fullscreenClose_1k9wv_739",Sn="_fullscreenCloseIcon_1k9wv_803",Mn="_fullscreenImageContainer_1k9wv_829",An="_fullscreenImage_1k9wv_829",Pn="_scaleIn_1k9wv_1",Rn="_fullscreenPlaceholder_1k9wv_869",Bn="_fullscreenPlaceholderIcon_1k9wv_903",zn="_zoomControls_1k9wv_931",On="_zoomButton_1k9wv_965",Dn="_zoomIcon_1k9wv_1027",qn="_fullscreenNav_1k9wv_1055",Wn="_fullscreenNavPrev_1k9wv_1115",Un="_fullscreenNavNext_1k9wv_1123",Fn="_fullscreenNavIcon_1k9wv_1131",Yn="_fullscreenInfo_1k9wv_1159",Vn="_fullscreenCounter_1k9wv_1195",Hn="_fullscreenScale_1k9wv_1229",Gn="_colorBlue_1k9wv_1265",Xn="_colorYellow_1k9wv_1267",Zn="_colorGreen_1k9wv_1269",Qn="_colorOrange_1k9wv_1271",Kn="_colorPurple_1k9wv_1273",Jn="_colorCyan_1k9wv_1275",et="_colorIndigo_1k9wv_1277",st="_colorGreenDark_1k9wv_1279",nt="_colorRed_1k9wv_1281",tt="_colorPink_1k9wv_1283";var c={modal:Js,fadeIn:en,content:sn,slideUp:nn,header:tn,headerContent:on,icon:ln,iconSvg:an,title:rn,subtitle:cn,closeButton:dn,closeIcon:_n,body:un,sliderContainer:mn,mainImage:hn,image:vn,imagePlaceholder:gn,placeholderIcon:xn,showPlaceholder:fn,thumbnailPlaceholder:pn,navButton:jn,navButtonLeft:bn,navButtonRight:Nn,navIcon:kn,counter:yn,thumbnails:Cn,thumbnail:wn,thumbnailActive:In,thumbnailImage:Ln,thumbnailPlaceholderIcon:$n,fullscreenModal:Tn,fullscreenClose:En,fullscreenCloseIcon:Sn,fullscreenImageContainer:Mn,fullscreenImage:An,scaleIn:Pn,fullscreenPlaceholder:Rn,fullscreenPlaceholderIcon:Bn,zoomControls:zn,zoomButton:On,zoomIcon:Dn,fullscreenNav:qn,fullscreenNavPrev:Wn,fullscreenNavNext:Un,fullscreenNavIcon:Fn,fullscreenInfo:Yn,fullscreenCounter:Vn,fullscreenScale:Hn,colorBlue:Gn,colorYellow:Xn,colorGreen:Zn,colorOrange:Qn,colorPurple:Kn,colorCyan:Jn,colorIndigo:et,colorGreenDark:st,colorRed:nt,colorPink:tt},ot=H(ce());const lt=({className:s,iconUrl:r,iconAlt:o})=>(0,e.jsx)("div",{className:(0,ot.default)(P.iconComponent,s),children:(0,e.jsx)(D,{src:r,alt:o})}),J=({category:s,onClose:r})=>(0,e.jsxs)("div",{className:c.header,children:[(0,e.jsxs)("div",{className:c.headerContent,children:[(0,e.jsx)(lt,{className:c.iconSvg,iconUrl:s.iconUrl,iconAlt:s.iconAlt}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h3",{className:c.title,children:s.name}),(0,e.jsx)("p",{className:c.subtitle,children:s.description})]})]}),(0,e.jsx)("button",{onClick:r,className:c.closeButton,"aria-label":"Закрыть",children:(0,e.jsx)(oe,{className:c.closeIcon})})]}),ee=({direction:s,onClick:r,className:o="",ariaLabel:a})=>{const n=s==="left"?te:le,_=s==="left"?c.navButtonLeft:c.navButtonRight;return(0,e.jsx)("button",{onClick:r,className:`${c.navButton} ${_} ${o}`,"aria-label":a,children:(0,e.jsx)(n,{className:c.navIcon})})},Z=({className:s=c.imagePlaceholder,iconClassName:r=c.placeholderIcon})=>(0,e.jsx)("div",{className:s,children:(0,e.jsx)("svg",{className:r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),at=({image:s,imageIndex:r,totalImages:o,onImageClick:a,onNext:n,onPrevious:_})=>{const t=(0,l.useCallback)(d=>{d.currentTarget.style.display="none";const i=d.currentTarget.parentElement;i&&c.showPlaceholder&&i.classList.add(c.showPlaceholder)},[]);return(0,e.jsxs)("div",{className:c.mainImage,children:[(0,e.jsx)(D,{src:s.url,alt:s.alt||`Изображение категории ${r+1}`,className:c.image,onClick:a,onError:t,loading:r===0?"eager":"lazy",fetchPriority:r===0?"high":"auto"}),(0,e.jsx)(Z,{}),o>1&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(ee,{direction:"left",onClick:_,ariaLabel:"Предыдущее фото"}),(0,e.jsx)(ee,{direction:"right",onClick:n,ariaLabel:"Следующее фото"})]}),(0,e.jsxs)("div",{className:c.counter,children:[r+1," / ",o]})]},r)},rt=({images:s,currentIndex:r,onThumbnailClick:o,onThumbnailImageClick:a})=>{const n=(0,l.useCallback)(_=>{_.currentTarget.style.display="none";const t=_.currentTarget.parentElement;t&&c.showPlaceholder&&t.classList.add(c.showPlaceholder)},[]);return(0,e.jsx)("div",{className:c.thumbnails,children:s.map((_,t)=>{const d=Math.abs(t-r)<=2;return(0,e.jsxs)("button",{onClick:()=>o(t),className:`${c.thumbnail} ${t===r?c.thumbnailActive:""}`,children:[(0,e.jsx)(D,{src:_.url,alt:_.alt||`Миниатюра ${t+1}`,className:c.thumbnailImage,onClick:i=>{i.stopPropagation(),a(t)},onError:n,loading:d?"eager":"lazy"}),(0,e.jsx)(Z,{className:c.thumbnailPlaceholder,iconClassName:c.thumbnailPlaceholderIcon})]},`${t}-${_.url}`)})})},ct=({images:s,currentIndex:r,onImageClick:o,onNext:a,onPrevious:n,onThumbnailClick:_,onThumbnailImageClick:t})=>{const d=s[r];if(s.length!==0)return(0,e.jsx)("div",{className:c.body,children:(0,e.jsxs)("div",{className:c.sliderContainer,children:[d?(0,e.jsx)(at,{image:d,imageIndex:r,totalImages:s.length,onImageClick:o,onNext:a,onPrevious:n}):(0,e.jsxs)("div",{className:c.mainImage,children:[(0,e.jsx)("div",{className:c.imagePlaceholder,children:(0,e.jsx)("svg",{className:c.placeholderIcon,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),s.length>1&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("button",{onClick:i=>{i.stopPropagation(),n()},className:`${c.navButton} ${c.navButtonLeft}`,"aria-label":"Предыдущее фото",children:(0,e.jsx)("svg",{className:c.navIcon,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,e.jsx)("button",{onClick:i=>{i.stopPropagation(),a()},className:`${c.navButton} ${c.navButtonRight}`,"aria-label":"Следующее фото",children:(0,e.jsx)("svg",{className:c.navIcon,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),(0,e.jsxs)("div",{className:c.counter,children:[r+1," / ",s.length]})]}),(0,e.jsx)(rt,{images:s,currentIndex:r,onThumbnailClick:_,onThumbnailImageClick:t})]})})},it=({scale:s,onZoomIn:r,onZoomOut:o,onResetZoom:a})=>(0,e.jsxs)("div",{className:c.zoomControls,children:[(0,e.jsx)("button",{onClick:r,disabled:s>=4,className:c.zoomButton,title:"Увеличить (колесико мыши вверх)","aria-label":"Увеличить",children:(0,e.jsx)("svg",{className:c.zoomIcon,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),(0,e.jsx)("button",{onClick:o,disabled:s<=1,className:c.zoomButton,title:"Уменьшить (колесико мыши вниз)","aria-label":"Уменьшить",children:(0,e.jsx)("svg",{className:c.zoomIcon,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),s>1&&(0,e.jsx)("button",{onClick:a,className:c.zoomButton,title:"Сбросить зум","aria-label":"Сбросить зум",children:(0,e.jsx)("svg",{className:c.zoomIcon,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]}),dt=({image:s,imageIndex:r,totalImages:o,scale:a,position:n,isDragging:_,onClose:t,onNext:d,onPrevious:i,onZoomIn:g,onZoomOut:h,onResetZoom:C,onWheel:b,dragHandlers:f})=>{const j=(0,l.useCallback)(m=>{m.currentTarget.style.display="none";const I=m.currentTarget.parentElement;if(I){const w=I.querySelector(`.${c.fullscreenPlaceholder}`);w&&(w.style.display="flex")}},[]),v=(0,l.useCallback)(m=>{a===1&&m.target===m.currentTarget&&t()},[a,t]),$=a>1?_?"grabbing":"grab":"zoom-out";return(0,e.jsxs)("div",{className:c.fullscreenModal,children:[(0,e.jsx)("button",{onClick:t,className:c.fullscreenClose,"aria-label":"Закрыть",children:(0,e.jsx)(oe,{className:c.fullscreenCloseIcon})}),(0,e.jsxs)("div",{className:c.fullscreenImageContainer,onWheel:b,onMouseDown:f.handleMouseDown,onMouseMove:f.handleMouseMove,onMouseUp:f.handleMouseUp,onMouseLeave:f.handleMouseUp,onTouchStart:f.handleTouchStart,onTouchMove:f.handleTouchMove,onTouchEnd:f.handleTouchEnd,onClick:v,style:{cursor:$},children:[(0,e.jsx)(D,{src:s.url,alt:`Увеличенное изображение ${s.alt}`,className:c.fullscreenImage,style:{transform:`scale(${a}) translate(${n.x/a}px, ${n.y/a}px)`,transition:_?"none":"transform 0.3s ease-out"},onError:j,draggable:!1}),(0,e.jsx)(Z,{className:c.fullscreenPlaceholder,iconClassName:c.fullscreenPlaceholderIcon})]}),(0,e.jsx)(it,{scale:a,onZoomIn:g,onZoomOut:h,onResetZoom:C}),(0,e.jsx)("button",{onClick:m=>{m.stopPropagation(),i()},className:`${c.fullscreenNav} ${c.fullscreenNavPrev}`,"aria-label":"Предыдущее изображение",children:(0,e.jsx)(te,{className:c.fullscreenNavIcon})}),(0,e.jsx)("button",{onClick:m=>{m.stopPropagation(),d()},className:`${c.fullscreenNav} ${c.fullscreenNavNext}`,"aria-label":"Следующее изображение",children:(0,e.jsx)(le,{className:c.fullscreenNavIcon})}),(0,e.jsxs)("div",{className:c.fullscreenInfo,children:[(0,e.jsxs)("div",{className:c.fullscreenCounter,children:[r+1," / ",o]}),a>1&&(0,e.jsxs)("div",{className:c.fullscreenScale,children:[Math.round(a*100),"%"]})]})]})},_t=({totalImages:s,onClose:r})=>{const[o,a]=(0,l.useState)(0),[n,_]=(0,l.useState)(void 0),[t,d]=(0,l.useState)(1),[i,g]=(0,l.useState)({x:0,y:0}),[h,C]=(0,l.useState)(!1),[b,f]=(0,l.useState)({x:0,y:0});(0,l.useEffect)(()=>{o>=s&&s>0&&a(0)},[s,o]),(0,l.useEffect)(()=>{d(1),g({x:0,y:0})},[n]),(0,l.useEffect)(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]);const j=(0,l.useCallback)(()=>{a(x=>(x+1)%s)},[s]),v=(0,l.useCallback)(()=>{a(x=>(x-1+s)%s)},[s]),$=(0,l.useCallback)(()=>{_(x=>x!==void 0?(x+1)%s:0)},[s]),m=(0,l.useCallback)(()=>{_(x=>x!==void 0?(x-1+s)%s:0)},[s]),I=(0,l.useCallback)(()=>{d(x=>Math.min(x+.5,4))},[]),w=(0,l.useCallback)(()=>{d(x=>{const T=Math.max(x-.5,1);return T===1&&g({x:0,y:0}),T})},[]),S=(0,l.useCallback)(()=>{d(1),g({x:0,y:0})},[]);(0,l.useEffect)(()=>{const x=T=>{T.key==="Escape"?n!==void 0?(_(void 0),d(1),g({x:0,y:0})):r():n!==void 0?T.key==="ArrowLeft"?m():T.key==="ArrowRight"&&$():T.key==="ArrowLeft"?v():T.key==="ArrowRight"&&j()};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[n,j,v,$,m,r]);const B=(0,l.useCallback)(x=>{t>1&&(C(!0),f({x:x.clientX-i.x,y:x.clientY-i.y}))},[t,i]),F=(0,l.useCallback)(x=>{h&&t>1&&g({x:x.clientX-b.x,y:x.clientY-b.y})},[h,t,b]),A=(0,l.useCallback)(()=>{C(!1)},[]),ie=(0,l.useCallback)(x=>{if(t>1&&x.touches.length===1){const T=x.touches[0];T&&(C(!0),f({x:T.clientX-i.x,y:T.clientY-i.y}))}},[t,i]),de=(0,l.useCallback)(x=>{if(h&&t>1&&x.touches.length===1){const T=x.touches[0];T&&g({x:T.clientX-b.x,y:T.clientY-b.y})}},[h,t,b]),_e=(0,l.useCallback)(()=>{C(!1)},[]);return{currentImageIndex:o,fullscreenImageIndex:n,scale:t,position:i,isDragging:h,setCurrentImageIndex:a,setFullscreenImageIndex:_,handleNext:j,handlePrevious:v,handleFullscreenNext:$,handleFullscreenPrevious:m,handleZoomIn:I,handleZoomOut:w,handleResetZoom:S,dragHandlers:{handleMouseDown:B,handleMouseMove:F,handleMouseUp:A,handleTouchStart:ie,handleTouchMove:de,handleTouchEnd:_e}}},ut=({category:s,onClose:r})=>{const{currentImageIndex:o,fullscreenImageIndex:a,scale:n,position:_,isDragging:t,setCurrentImageIndex:d,setFullscreenImageIndex:i,handleNext:g,handlePrevious:h,handleFullscreenNext:C,handleFullscreenPrevious:b,handleZoomIn:f,handleZoomOut:j,handleResetZoom:v,dragHandlers:$}=_t({totalImages:s.images.length,onClose:r}),m=(0,l.useCallback)(()=>{i(o)},[o,i]),I=(0,l.useCallback)(A=>{d(A)},[d]),w=(0,l.useCallback)(A=>{i(A)},[i]),S=(0,l.useCallback)(A=>{A.preventDefault(),A.deltaY<0?f():j()},[f,j]),B=(0,l.useCallback)(()=>{i(void 0),v()},[i,v]);if(s.images.length===0)return(0,e.jsx)("div",{className:c.modal,onClick:r,children:(0,e.jsxs)("div",{className:c.content,onClick:A=>A.stopPropagation(),children:[(0,e.jsx)(J,{category:s,onClose:r}),(0,e.jsx)("div",{className:c.body,children:(0,e.jsx)("p",{style:{textAlign:"center",color:"#6b7280",padding:"2rem"},children:"Нет доступных изображений для этой категории"})})]})});const F=a!==void 0?s.images[a]:void 0;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:c.modal,onClick:r,children:(0,e.jsxs)("div",{className:c.content,onClick:A=>A.stopPropagation(),children:[(0,e.jsx)(J,{category:s,onClose:r}),(0,e.jsx)(ct,{images:s.images,currentIndex:o,onImageClick:m,onNext:g,onPrevious:h,onThumbnailClick:I,onThumbnailImageClick:w})]})}),a!==void 0&&F&&(0,e.jsx)(dt,{image:F,imageIndex:a,totalImages:s.images.length,scale:n,position:_,isDragging:t,onClose:B,onNext:C,onPrevious:b,onZoomIn:f,onZoomOut:j,onResetZoom:v,onWheel:S,dragHandlers:$})]})};var mt=5e3,ht=3e4,V=5,se=s=>{const r=mt*Math.pow(2,s);return Math.min(r,ht)},vt=s=>s===0||s===1||s===5||s===9?"up":s%3===0?"left":s%3===2?"right":"up";const gt=()=>{const s=ae(),r=q(be),o=q(pe),a=q(xe),n=q(ye),[_,t]=(0,l.useState)(0),[d,i]=(0,l.useState)(0),g=(0,l.useRef)(null),h=(0,l.useRef)(null),C=(0,l.useRef)(!1),b=(0,l.useCallback)(()=>{g.current&&(clearTimeout(g.current),g.current=null),h.current&&(clearInterval(h.current),h.current=null),t(0)},[]),f=(0,l.useCallback)(w=>{if(w>=V)return;const S=se(w);t(S/1e3),h.current=setInterval(()=>{t(B=>B<=1?0:B-1)},1e3),g.current=setTimeout(()=>{i(B=>B+1),s(G())},S)},[s]),j=(0,l.useCallback)(()=>{b(),i(0),s(G())},[b,s]),v=(0,l.useCallback)(()=>{s(K(void 0))},[s]),$=(0,l.useCallback)(w=>{s(K(w))},[s]);(0,l.useEffect)(()=>{r.length===0&&!a&&n===void 0&&!C.current&&(C.current=!0,s(G()))},[r.length,a,n,s]),(0,l.useEffect)(()=>(a||(n?(b(),f(d)):r.length>0&&(b(),i(0))),()=>b()),[a,n,r.length,d,b,f]);const m=d>=V,I=n&&!a;return(0,e.jsxs)("section",{id:"categories",className:N.categories,children:[o&&(0,e.jsx)(ut,{category:o,onClose:v}),(0,e.jsxs)(M,{delay:800,direction:"up",children:[(0,e.jsx)("h3",{className:N.title,children:"Наш ассортимент"}),(0,e.jsx)("p",{className:N.subtitle,children:"Всё необходимое для дома, ремонта и быта в одном месте"})]}),(0,e.jsxs)("div",{className:N.gridWrapper,children:[I&&(0,e.jsx)("div",{className:N.errorOverlay,children:(0,e.jsxs)("div",{className:N.errorContainer,children:[(0,e.jsx)("div",{className:N.errorIcon,children:(0,e.jsxs)("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[(0,e.jsx)("circle",{cx:"12",cy:"12",r:"10",strokeWidth:"2"}),(0,e.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"12",strokeWidth:"2",strokeLinecap:"round"}),(0,e.jsx)("line",{x1:"12",y1:"16",x2:"12.01",y2:"16",strokeWidth:"2",strokeLinecap:"round"})]})}),(0,e.jsx)("h4",{className:N.errorTitle,children:"Не удалось загрузить категории"}),(0,e.jsx)("p",{className:N.errorMessage,children:n}),(0,e.jsxs)("div",{className:N.errorActions,children:[(0,e.jsx)("button",{className:N.retryButton,onClick:j,children:"Повторить попытку"}),m?(0,e.jsxs)("p",{className:N.maxAttemptsText,children:["Превышено максимальное количество попыток (",V,").",(0,e.jsx)("br",{}),"Нажмите кнопку для ручной перезагрузки."]}):_>0?(0,e.jsxs)("div",{className:N.retryInfo,children:[(0,e.jsxs)("p",{className:N.autoRetryText,children:["Автоматическая попытка ",d+1," из ",V," через ",_," сек"]}),(0,e.jsx)("div",{className:N.progressBar,children:(0,e.jsx)("div",{className:N.progressFill,style:{width:`${_/(se(d)/1e3)*100}%`}})})]}):null]})]})}),(0,e.jsx)("div",{className:N.grid,children:r.length>0&&!a&&!I?r.map((w,S)=>(0,e.jsx)(M,{delay:100+S*50,direction:vt(S),children:(0,e.jsx)(Ks,{category:w,onClick:()=>$(w),index:S+1})},w.id)):[...Array(13)].map((w,S)=>(0,e.jsxs)("div",{className:`${N.skeleton} ${I?N.skeletonStatic:""}`,"data-index":S+1,children:[(0,e.jsx)("div",{className:N.skeletonImage}),(0,e.jsxs)("div",{className:N.skeletonContent,children:[(0,e.jsx)("div",{className:N.skeletonTitle}),(0,e.jsx)("div",{className:N.skeletonDesc})]})]},`skeleton-${S}`))})]})]})},xt="_hero_zilub_7",ft="_background_zilub_29",pt="_container_zilub_45",jt="_title_zilub_61",bt="_titleNormal_zilub_91",Nt="_titleAccent_zilub_101",kt="_subtitle_zilub_117",yt="_buttons_zilub_137",Ct="_buttonPrimary_zilub_157",wt="_buttonSecondary_zilub_159";var R={hero:xt,background:ft,container:pt,title:jt,titleNormal:bt,titleAccent:Nt,subtitle:kt,buttons:yt,buttonPrimary:Ct,buttonSecondary:wt};const It=({onCatalogClick:s})=>(0,e.jsx)("section",{className:R.hero,children:(0,e.jsxs)("div",{className:R.container,children:[(0,e.jsx)(M,{delay:200,direction:"down",children:(0,e.jsxs)("div",{className:R.title,children:[(0,e.jsx)("span",{className:R.titleNormal,children:"Всё для "}),(0,e.jsx)("span",{className:R.titleAccent,children:"строительства"})]})}),(0,e.jsx)(M,{delay:400,direction:"up",children:(0,e.jsx)("div",{className:R.subtitle,children:"От сантехники до канцелярии — всё для дома, ремонта и быта"})}),(0,e.jsx)(M,{delay:600,direction:"up",children:(0,e.jsxs)("div",{className:R.buttons,children:[(0,e.jsx)("button",{onClick:s,className:R.buttonPrimary,children:"Смотреть каталог"}),(0,e.jsx)("button",{className:R.buttonSecondary,children:"Специальные предложения"})]})})]})}),Lt="_reviews_wgswu_7",$t="_container_wgswu_17",Tt="_header_wgswu_27",Et="_title_wgswu_41",St="_rating_wgswu_57",Mt="_stars_wgswu_71",At="_starFilled_wgswu_81",Pt="_score_wgswu_93",Rt="_link_wgswu_105",Bt="_yandexWidget_wgswu_141";var W={reviews:Lt,container:$t,header:Tt,title:Et,rating:St,stars:Mt,starFilled:At,score:Pt,link:Rt,yandexWidget:Bt};const zt=()=>{const s="https://yandex.ru/maps/org/stroykhozmag/14880330809/";return(0,e.jsx)("section",{id:"reviews",className:W.reviews,children:(0,e.jsxs)("div",{className:W.container,children:[(0,e.jsx)(M,{delay:700,direction:"up",children:(0,e.jsxs)("div",{className:W.header,children:[(0,e.jsx)("h3",{className:W.title,children:"Отзывы наших клиентов"}),(0,e.jsx)("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:W.link,children:"Смотреть все отзывы на Яндекс.Картах →"})]})}),(0,e.jsx)(M,{delay:900,direction:"up",children:(0,e.jsxs)("div",{className:W.yandexWidget,children:[(0,e.jsx)("iframe",{style:{width:"100%",height:"100%",border:"1px solid #e6e6e6",borderRadius:"8px",boxSizing:"border-box"},src:"https://yandex.ru/maps-reviews-widget/14880330809?comments",title:"Отзывы СтройХозМаг"}),(0,e.jsx)("a",{href:s,target:"_blank",rel:"noopener noreferrer",style:{boxSizing:"border-box",textDecoration:"none",color:"#b3b3b3",fontSize:"10px",fontFamily:"YS Text, sans-serif",padding:"0 16px",position:"absolute",bottom:"8px",width:"100%",textAlign:"center",left:0,overflow:"hidden",textOverflow:"ellipsis",display:"block",maxHeight:"14px",whiteSpace:"nowrap"},children:"СтройХозМаг на карте Москвы — Яндекс Карты"})]})})]})})},Ot="_team_2dgqf_3",Dt="_container_2dgqf_13",qt="_title_2dgqf_23",Wt="_subtitle_2dgqf_39",Ut="_grid_2dgqf_53",Ft="_card_2dgqf_77",Yt="_avatar_2dgqf_111",Vt="_initials_2dgqf_143",Ht="_name_2dgqf_155",Gt="_position_2dgqf_169",Xt="_positionIcon_2dgqf_187",Zt="_experience_2dgqf_197",Qt="_experienceYears_2dgqf_211",Kt="_experienceLabel_2dgqf_225",Jt="_description_2dgqf_237";var p={team:Ot,container:Dt,title:qt,subtitle:Wt,grid:Ut,card:Ft,avatar:Yt,initials:Vt,name:Ht,position:Gt,positionIcon:Xt,experience:Zt,experienceYears:Qt,experienceLabel:Kt,description:Jt};const eo=()=>(0,e.jsx)("section",{className:p.team,children:(0,e.jsxs)("div",{className:p.container,children:[(0,e.jsxs)(M,{delay:1800,direction:"up",children:[(0,e.jsx)("h3",{className:p.title,children:"Наш персонал"}),(0,e.jsx)("p",{className:p.subtitle,children:"Профессионалы с многолетним опытом всегда готовы вам помочь"})]}),(0,e.jsxs)("div",{className:p.grid,children:[(0,e.jsx)(M,{delay:2e3,direction:"left",children:(0,e.jsxs)("div",{className:p.card,children:[(0,e.jsx)("div",{className:p.avatar,style:{background:"linear-gradient(to bottom right, #4ade80, #16a34a)"},children:(0,e.jsx)("span",{className:p.initials,children:"МД"})}),(0,e.jsx)("h4",{className:p.name,children:"Денис"}),(0,e.jsxs)("div",{className:p.position,children:[(0,e.jsx)(Q,{className:p.positionIcon}),(0,e.jsx)("span",{children:"Старший консультант"})]}),(0,e.jsxs)("div",{className:p.experience,children:[(0,e.jsx)("p",{className:p.experienceYears,children:"15 лет"}),(0,e.jsx)("p",{className:p.experienceLabel,children:"опыта работы"})]}),(0,e.jsx)("p",{className:p.description,children:"Эксперт в области строительных материалов и инструментов. Поможет подобрать всё необходимое для любого проекта."})]})}),(0,e.jsx)(M,{delay:2200,direction:"right",children:(0,e.jsxs)("div",{className:p.card,children:[(0,e.jsx)("div",{className:p.avatar,style:{background:"linear-gradient(to bottom right, #facc15, #22c55e)"},children:(0,e.jsx)("span",{className:p.initials,children:"ТЕ"})}),(0,e.jsx)("h4",{className:p.name,children:"Евгений"}),(0,e.jsxs)("div",{className:p.position,children:[(0,e.jsx)(Q,{className:p.positionIcon}),(0,e.jsx)("span",{children:"Ведущий специалист"})]}),(0,e.jsxs)("div",{className:p.experience,children:[(0,e.jsx)("p",{className:p.experienceYears,children:"15 лет"}),(0,e.jsx)("p",{className:p.experienceLabel,children:"опыта работы"})]}),(0,e.jsx)("p",{className:p.description,children:"Профессионал с глубокими знаниями в сантехнике, электрике и отделочных материалах."})]})})]})]})}),so="_specialOffers_o3rok_1",no="_title_o3rok_7",to="_subtitle_o3rok_15",oo="_sliderContainer_o3rok_23",lo="_slider_o3rok_23",ao="_slideWrapper_o3rok_48",ro="_navButton_o3rok_57",co="_navButtonPrev_o3rok_89",io="_navButtonNext_o3rok_93",_o="_dots_o3rok_98",uo="_dot_o3rok_98",mo="_dotActive_o3rok_121";var E={specialOffers:so,title:no,subtitle:to,sliderContainer:oo,slider:lo,slideWrapper:ao,navButton:ro,navButtonPrev:co,navButtonNext:io,dots:_o,dot:uo,dotActive:mo};const ho="_card_z35nh_1",vo="_imageOnly_z35nh_35",go="_imageSection_z35nh_51",xo="_imageSide_z35nh_56",fo="_contentSection_z35nh_62",po="_imageOverlay_z35nh_76",jo="_overlayContent_z35nh_86",bo="_badge_z35nh_136",No="_content_z35nh_62",ko="_title_z35nh_159",yo="_description_z35nh_174",Co="_priceInfo_z35nh_190",wo="_oldPrice_z35nh_197",Io="_newPrice_z35nh_203",Lo="_progress_z35nh_209",$o="_progressBar_z35nh_213",To="_progressFill_z35nh_222",Eo="_progressText_z35nh_228";var u={card:ho,"card--small":"_card--small_z35nh_21","card--medium":"_card--medium_z35nh_24","card--large":"_card--large_z35nh_27","card--image_only":"_card--image_only_z35nh_31",imageOnly:vo,"card--image_with_content":"_card--image_with_content_z35nh_42","card--image-right":"_card--image-right_z35nh_47",imageSection:go,imageSide:xo,contentSection:fo,"card--overlay":"_card--overlay_z35nh_72",imageOverlay:po,overlayContent:jo,"overlay--top":"_overlay--top_z35nh_101","overlay--center":"_overlay--center_z35nh_110","overlay--bottom":"_overlay--bottom_z35nh_115","overlay--align-left":"_overlay--align-left_z35nh_120","overlay--align-center":"_overlay--align-center_z35nh_125","overlay--align-right":"_overlay--align-right_z35nh_130",badge:bo,content:No,title:ko,description:yo,priceInfo:Co,oldPrice:wo,newPrice:Io,progress:Lo,progressBar:$o,progressFill:To,progressText:Eo};const So="_timer_10cjs_1",Mo="_dateRange_10cjs_25",Ao="_dateRangeLabel_10cjs_32",Po="_dateRangeValue_10cjs_40",Ro="_countdown_10cjs_47",Bo="_countdownLabel_10cjs_54",zo="_countdownValues_10cjs_62",Oo="_countdownItem_10cjs_68",Do="_countdownNumber_10cjs_78",qo="_countdownUnit_10cjs_85",Wo="_expired_10cjs_93";var k={timer:So,"timer--top":"_timer--top_10cjs_9","timer--bottom":"_timer--bottom_10cjs_13","timer--overlay":"_timer--overlay_10cjs_17",dateRange:Mo,dateRangeLabel:Ao,dateRangeValue:Po,countdown:Ro,countdownLabel:Bo,countdownValues:zo,countdownItem:Oo,countdownNumber:Do,countdownUnit:qo,expired:Wo};const z={PERCENTAGE_DISCOUNT:"percentage_discount",FIXED_DISCOUNT:"fixed_discount",BUY_GET:"buy_get",LIMITED_OFFER:"limited_offer",SEASONAL_SALE:"seasonal_sale",NEW_ARRIVAL:"new_arrival"},ne={IMAGE_ONLY:"image_only",IMAGE_WITH_CONTENT:"image_with_content",OVERLAY:"overlay"},U={COUNTDOWN:"countdown",DATE_RANGE:"date_range",NONE:"none"},X=({timer:s,position:r="top"})=>{const o=()=>{if(!s.endDate)return{days:0,hours:0,minutes:0,seconds:0,isExpired:!1};const d=new Date().getTime(),i=new Date(s.endDate).getTime()-d;return i<=0?{days:0,hours:0,minutes:0,seconds:0,isExpired:!0}:{days:Math.floor(i/864e5),hours:Math.floor(i%864e5/36e5),minutes:Math.floor(i%36e5/6e4),seconds:Math.floor(i%6e4/1e3),isExpired:!1}},[a,n]=(0,l.useState)(o());(0,l.useEffect)(()=>{const d=setInterval(()=>{n(o())},1e3);return()=>clearInterval(d)},[s.endDate]);const _=d=>new Date(d).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}),t=(0,l.useMemo)(()=>`${k.timer} ${k[`timer--${r}`]}`,[r]);return s.type===U.NONE?null:s.type===U.DATE_RANGE&&s.startDate&&s.endDate?(0,e.jsx)("div",{className:t,children:(0,e.jsxs)("div",{className:k.dateRange,children:[(0,e.jsx)("span",{className:k.dateRangeLabel,children:"Акция действует:"}),(0,e.jsxs)("span",{className:k.dateRangeValue,children:[_(s.startDate)," - ",_(s.endDate)]})]})}):s.type===U.COUNTDOWN&&s.endDate?a.isExpired?(0,e.jsx)("div",{className:t,children:(0,e.jsx)("div",{className:k.expired,children:"Акция завершена"})}):(0,e.jsx)("div",{className:t,children:(0,e.jsxs)("div",{className:k.countdown,children:[(0,e.jsx)("span",{className:k.countdownLabel,children:"До конца акции:"}),(0,e.jsxs)("div",{className:k.countdownValues,children:[s.showDays!==!1&&a.days>0&&(0,e.jsxs)("div",{className:k.countdownItem,children:[(0,e.jsx)("span",{className:k.countdownNumber,children:a.days}),(0,e.jsx)("span",{className:k.countdownUnit,children:"д"})]}),s.showHours!==!1&&(0,e.jsxs)("div",{className:k.countdownItem,children:[(0,e.jsx)("span",{className:k.countdownNumber,children:String(a.hours).padStart(2,"0")}),(0,e.jsx)("span",{className:k.countdownUnit,children:"ч"})]}),s.showMinutes!==!1&&(0,e.jsxs)("div",{className:k.countdownItem,children:[(0,e.jsx)("span",{className:k.countdownNumber,children:String(a.minutes).padStart(2,"0")}),(0,e.jsx)("span",{className:k.countdownUnit,children:"м"})]}),s.showSeconds!==!1&&(0,e.jsxs)("div",{className:k.countdownItem,children:[(0,e.jsx)("span",{className:k.countdownNumber,children:String(a.seconds).padStart(2,"0")}),(0,e.jsx)("span",{className:k.countdownUnit,children:"с"})]})]})]})}):null},Uo=({offer:s,onClick:r})=>{var j,v,$,m;const{displayConfig:o,timer:a,metadata:n,type:_}=s,t=(0,l.useMemo)(()=>({"--bg-color":o.backgroundColor,"--text-color":o.textColor,"--accent-color":o.accentColor,background:o.showGradient?`linear-gradient(135deg, ${o.backgroundColor}, ${o.accentColor})`:o.backgroundColor}),[o]),d=(0,l.useMemo)(()=>u[`card--${o.size}`]||u["card--medium"],[o.size]),i=(0,l.useMemo)(()=>u[`card--${o.layout}`]||u["card--overlay"],[o.layout]),g=()=>{switch(_){case z.PERCENTAGE_DISCOUNT:return n!=null&&n.discountPercent?(0,e.jsxs)("div",{className:u.badge,style:{backgroundColor:o.accentColor},children:["-",n.discountPercent,"%"]}):null;case z.FIXED_DISCOUNT:return n!=null&&n.discountAmount?(0,e.jsxs)("div",{className:u.badge,style:{backgroundColor:o.accentColor},children:["-",n.discountAmount,"₽"]}):null;case z.BUY_GET:return n!=null&&n.buyQuantity&&(n!=null&&n.getQuantity)?(0,e.jsxs)("div",{className:u.badge,style:{backgroundColor:o.accentColor},children:[n.buyQuantity,"+",n.getQuantity]}):null;case z.LIMITED_OFFER:return(n==null?void 0:n.itemsLeft)!==void 0?(0,e.jsxs)("div",{className:u.badge,style:{backgroundColor:o.accentColor},children:["Осталось: ",n.itemsLeft]}):null;case z.NEW_ARRIVAL:return(0,e.jsx)("div",{className:u.badge,style:{backgroundColor:o.accentColor},children:"Новинка"});case z.SEASONAL_SALE:return(0,e.jsx)("div",{className:u.badge,style:{backgroundColor:o.accentColor},children:"Сезонная распродажа"});default:return null}},h=()=>(0,e.jsxs)("div",{className:u.content,children:[(0,e.jsx)("h3",{className:u.title,style:{color:o.textColor},children:s.title}),(0,e.jsx)("p",{className:u.description,style:{color:o.textColor},children:s.description}),_===z.FIXED_DISCOUNT&&(n==null?void 0:n.originalPrice)&&(n==null?void 0:n.discountAmount)&&(0,e.jsxs)("div",{className:u.priceInfo,children:[(0,e.jsxs)("span",{className:u.oldPrice,style:{color:o.textColor},children:[n.originalPrice,"₽"]}),(0,e.jsxs)("span",{className:u.newPrice,style:{color:o.accentColor},children:[n.originalPrice-n.discountAmount,"₽"]})]}),_===z.LIMITED_OFFER&&(n==null?void 0:n.totalItems)&&(n==null?void 0:n.itemsLeft)!==void 0&&(0,e.jsxs)("div",{className:u.progress,children:[(0,e.jsx)("div",{className:u.progressBar,children:(0,e.jsx)("div",{className:u.progressFill,style:{width:`${n.itemsLeft/n.totalItems*100}%`,backgroundColor:o.accentColor}})}),(0,e.jsxs)("span",{className:u.progressText,style:{color:o.textColor},children:[n.itemsLeft," из ",n.totalItems]})]}),a&&a.type!==U.NONE&&o.timerPosition!=="overlay"&&(0,e.jsx)(X,{timer:a,position:o.timerPosition||"bottom"})]});if(o.layout===ne.IMAGE_ONLY&&s.imageUrl)return(0,e.jsxs)("div",{className:`${u.card} ${d} ${i}`,style:t,onClick:r,children:[(0,e.jsx)(D,{src:s.imageUrl,alt:s.imageAlt||s.title,className:u.imageOnly}),g(),a&&a.type!==U.NONE&&(0,e.jsx)(X,{timer:a,position:"overlay"})]});if(o.layout===ne.IMAGE_WITH_CONTENT&&s.imageUrl){const I=((j=o.imageWithContentConfig)==null?void 0:j.imageWidth)||50,w=((v=o.imageWithContentConfig)==null?void 0:v.imagePosition)||"left";return(0,e.jsxs)("div",{className:`${u.card} ${d} ${i} ${w==="right"?u["card--image-right"]:u["card--image-left"]}`,style:t,onClick:r,children:[(0,e.jsx)("div",{className:u.imageSection,style:{flex:`0 0 ${I}%`},children:(0,e.jsx)(D,{src:s.imageUrl,alt:s.imageAlt||s.title,className:u.imageSide})}),(0,e.jsxs)("div",{className:u.contentSection,children:[g(),h()]})]})}const C=o.overlayConfig?{"--overlay-opacity":o.overlayConfig.overlayOpacity,"--overlay-color":o.overlayConfig.overlayColor}:{},b=($=o.overlayConfig)!=null&&$.contentPosition?u[`overlay--${o.overlayConfig.contentPosition}`]:u["overlay--bottom"],f=(m=o.overlayConfig)!=null&&m.contentAlign?u[`overlay--align-${o.overlayConfig.contentAlign}`]:u["overlay--align-left"];return(0,e.jsxs)("div",{className:`${u.card} ${d} ${i} ${b} ${f}`,style:{...t,...C},onClick:r,children:[s.imageUrl&&(0,e.jsx)(D,{src:s.imageUrl,alt:s.imageAlt||s.title,className:u.imageOverlay}),(0,e.jsxs)("div",{className:u.overlayContent,children:[g(),a&&a.type!==U.NONE&&o.timerPosition==="overlay"&&(0,e.jsx)(X,{timer:a,position:"overlay"}),h()]})]})};var Fo=5e3;const Yo=()=>{const s=ae(),r=q(fe),o=q(ke),a=q(je),n=r,[_,t]=(0,l.useState)(0),[d,i]=(0,l.useState)(!1),g=(0,l.useRef)(null),h=(0,l.useRef)(null),C=(0,l.useRef)(!1);(0,l.useEffect)(()=>{C.current||(C.current=!0,s(Ce()))},[s]),(0,l.useEffect)(()=>{if(!(n.length<=1||d))return h.current=setInterval(()=>{t(m=>(m+1)%n.length)},Fo),()=>{h.current&&clearInterval(h.current)}},[n.length,d]),(0,l.useEffect)(()=>{if(g.current){const m=g.current.scrollWidth/n.length;g.current.scrollTo({left:m*_,behavior:"smooth"})}},[_,n.length]);const b=(0,l.useCallback)(()=>{t(m=>(m-1+n.length)%n.length)},[n.length]),f=(0,l.useCallback)(()=>{t(m=>(m+1)%n.length)},[n.length]),j=(0,l.useCallback)(m=>{t(m)},[]),v=(0,l.useCallback)(()=>{i(!0)},[]),$=(0,l.useCallback)(()=>{i(!1)},[]);return a||o?null:n.length===0?(0,e.jsx)("section",{id:"special-offers",className:E.specialOffers,children:(0,e.jsxs)(M,{delay:600,direction:"up",children:[(0,e.jsx)("h3",{className:E.title,children:"Специальные предложения"}),(0,e.jsx)("p",{className:E.subtitle,children:"В данный момент акции отсутствуют"})]})}):(0,e.jsxs)("section",{id:"special-offers",className:E.specialOffers,children:[(0,e.jsxs)(M,{delay:600,direction:"up",children:[(0,e.jsx)("h3",{className:E.title,children:"Специальные предложения"}),(0,e.jsx)("p",{className:E.subtitle,children:"Выгодные акции и скидки только для вас"})]}),(0,e.jsx)(M,{delay:800,direction:"up",children:(0,e.jsxs)("div",{className:E.sliderContainer,onMouseEnter:v,onMouseLeave:$,children:[n.length>1&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("button",{className:`${E.navButton} ${E.navButtonPrev}`,onClick:b,"aria-label":"Предыдущая акция",children:(0,e.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,e.jsx)("polyline",{points:"15 18 9 12 15 6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,e.jsx)("button",{className:`${E.navButton} ${E.navButtonNext}`,onClick:f,"aria-label":"Следующая акция",children:(0,e.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,e.jsx)("polyline",{points:"9 18 15 12 9 6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),(0,e.jsx)("div",{className:E.slider,ref:g,children:n.map(m=>(0,e.jsx)("div",{className:E.slideWrapper,children:(0,e.jsx)(Uo,{offer:m})},m.id))}),n.length>1&&(0,e.jsx)("div",{className:E.dots,children:n.map((m,I)=>(0,e.jsx)("button",{className:`${E.dot} ${I===_?E.dotActive:""}`,onClick:()=>j(I),"aria-label":`Перейти к акции ${I+1}`},I))})]})})]})},Xo=()=>{const s=()=>{const t=document.getElementById("categories");t&&t.scrollIntoView({behavior:"smooth",block:"start"})},r=()=>{const t=document.getElementById("about");t&&t.scrollIntoView({behavior:"smooth",block:"start"})},o=()=>{const t=document.getElementById("reviews");if(t){const d=t.getBoundingClientRect().top+window.pageYOffset-50;window.scrollTo({top:d,behavior:"smooth"})}},a=()=>{const t=document.getElementById("contacts");t&&t.scrollIntoView({behavior:"smooth",block:"start"})},n=()=>{const t=document.getElementById("map");t&&t.scrollIntoView({behavior:"smooth",block:"start"})},_=()=>{const t=document.getElementById("home");t&&t.scrollIntoView({behavior:"smooth",block:"start"})};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(qe,{onCatalogClick:s,onTopClick:_,onAboutClick:r,onContactsClick:a,onReviewsClick:o,onMapClick:n}),(0,e.jsx)(It,{onCatalogClick:s}),(0,e.jsx)(Yo,{}),(0,e.jsx)(gt,{}),(0,e.jsx)(zt,{}),(0,e.jsx)(eo,{}),(0,e.jsx)(rs,{})]})};export{Xo as HomePage};
